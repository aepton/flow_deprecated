<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Flow</title>
<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/create_flow.css" />
<script type="text/javascript" src="/js/libs/jquery.min.js"></script>
<script type="text/javascript" src="/js/libs/jquery-ui.min.js"></script>
<script type="text/javascript" src="/js/libs/jquery.formalize.min.js"></script>
<script type="text/javascript" src="/js/libs/underscore.js"></script>
<script type="text/javascript" src="/js/libs/backbone.js"></script>
<script type="text/javascript" src="/js/libs/purl.js"></script>
<script type="text/javascript" src="/js/libs/jquery.scrollintoview.min.js"></script>
<script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/libs/raphael-min.js"></script>
<script type="text/javascript" src="/js/libs/moment.min.js"></script>
<script type="text/javascript" src="/js/libs/typeahead.bundle.js"></script>
<script type="text/javascript" src="/js/create_flow.js"></script>
</head>
<body>
<div id="top" class="container">
  <div class="row">
    <p id="round_title">
      <span id="create_affschool">affSchool</span> <span id="create_affteam">affTeam</span>
      (<span id="create_1a">1a</span> & <span id="create_2a">2a</span>) aff vs 
      <span id="create_negschool">negSchool</span> <span id="create_negteam">negTeam</span>
      (<span id="create_1n">1n</span> & <span id="create_2n">2n</span>) neg:&nbsp;
      <span id="meta_tournament">Tournament</span>&nbsp;(<span id="meta_round">Round</span>),&nbsp;<span id="meta_judge">Judge</span> judging
    </p>
  </div>
  <div class="row">
    <div class="btn-group col-md-4 col-md-offset-2" id="topic-dropdown-parent">
      <button type="button" id="topic" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
        Topics <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" id="topic-dropdown" role="menu">
      </ul>
</div>
    <button type="button" id="new_topic_button" class="btn btn-default col-md-2">New topic</button>
    <button type="button" id="sync_button" class="btn btn-default col-md-1">Sync</button>
  </div>
  <div class="row" id="header">
    <div class="col-md-1 card-col">
      <p class="debate_cell aff speechhed 1ac" id="1ac">
        1AC
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell neg speechhed 1nc" id="1nc">
        1NC
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell aff speechhed 2ac" id="2ac">
        2AC
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell neg speechhed 2nc" id="2nc">
        2NC
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell neg speechhed 1nr" id="1nr">
        1NR
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell aff speechhed 1ar" id="1ar">
        1AR
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell neg speechhed 2nr" id="2nr">
        2NR
      </p>
    </div>
    <div class="col-md-1 card-col">
      <p class="debate_cell aff speechhed 2ar" id="2ar">
        2AR
      </p>
    </div>
  </div>
</div>
<div class="container" id="card-container">
  <div class="row" id="cards">
    <div class="col-md-1 card-col 1ac" id="1ac_col">
      <p class="aff new_card current_arrow_box arrow_box_newcard" id="new_1ac">new card</p>
    </div>
    <div class="col-md-1 card-col 1nc" id="1nc_col">
      <p class="neg new_card" id="new_1nc">new card</p>
    </div>
    <div class="col-md-1 card-col 2ac" id="2ac_col">
      <p class="aff new_card" id="new_2ac">new card</p>
    </div>
    <div class="col-md-1 card-col 2nc" id="2nc_col">
      <p class="neg new_card" id="new_2nc">new card</p>
    </div>
    <div class="col-md-1 card-col 1nr" id="1nr_col">
      <p class="neg new_card" id="new_1nr">new card</p>
    </div>
    <div class="col-md-1 card-col 1ar" id="1ar_col">
      <p class="aff new_card" id="new_1ar">new card</p>
    </div>
    <div class="col-md-1 card-col 2nr" id="2nr_col">
      <p class="neg new_card" id="new_2nr">new card</p>
    </div>
    <div class="col-md-1 card-col 2ar" id="2ar_col">
      <p class="aff new_card" id="new_2ar">new card</p>
    </div>
  </div>
</div>
<div class="modal fade" id="new_topic" tabindex="-1" role="dialog" aria-labelledby="new_topic" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" id="new_topic_close_button" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="new_topic_label">Add new topic</h4>
      </div>
      <div class="modal-body">
       <input type="text" id="new_topic_name" class="form-control" placeholder="Inherency, Federalism, etc - hit enter to save (you gotta type something, sorry)">
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="round_meta" tabindex="-1" role="dialog" aria-labelledby="round_meta" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="round_meta_label">Round information</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <input type="text" id="aff_school" class="form-control" placeholder="Affirmative School">
          </div>
          <div class="col-md-6">
            <input type="text" id="aff_team" class="form-control" placeholder="Affirmative Team">
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-6">
            <input type="text" id="aff_speaker_1" class="form-control" placeholder="1st Affirmative Speaker">
          </div>
          <div class="col-md-6">
            <input type="text" id="aff_speaker_2" class="form-control" placeholder="2nd Affirmative Speaker">
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-md-6">
            <input type="text" id="neg_school" class="form-control" placeholder="Negative School">
          </div>
          <div class="col-md-6">
            <input type="text" id="neg_team" class="form-control" placeholder="Negative Team">
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-6">
            <input type="text" id="neg_speaker_1" class="form-control" placeholder="1st Negative Speaker">
          </div>
          <div class="col-md-6">
            <input type="text" id="neg_speaker_2" class="form-control" placeholder="2nd Negative Speaker">
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-md-6">
            <input type="text" id="tournament_name" class="form-control" placeholder="Tournament">
          </div>
          <div class="col-md-6">
            <input type="text" id="round_number" class="form-control" placeholder="Round">
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-6 col-md-offset-3">
            <input type="text" id="judge_name" class="form-control" placeholder="Judge">
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-md-2 col-md-offset-9">
            <button type="button" class="btn btn-success" id="round_meta_submit">Start round</button>
          </div>
        </div>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="saved_round" tabindex="-1" role="dialog" aria-labelledby="saved_round" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="new_topic_label">Syncing Round</h4>
      </div>
      <div class="modal-body">
        <p class="modal-text">Round saved to <span id="rnd-link"></span></p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="modal-template" tabindex="-1" role="dialog" aria-labelledby="modal-template" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" id="modal-template_close_button" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="modal-template_label"></h4>
      </div>
      <div class="modal-body">
        <p id="modal-contents"></p>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="instructions" tabindex="-1" role="dialog" aria-labelledby="modal-template" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" id="modal-template_close_button" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">How it works</h4>
      </div>
      <div class="modal-body">
          <div class="container">
              <div class="row">
                  <div class="col-md-12">
                      Welcome to...this flowing thing! Enter round info on the next screen if you want, then enter the name of the first topic, like Inherency or Harms. From there, highlight a [new card] box and hit enter, then hit enter again to save the card. If you select a prefilled card from the green dropdown, you'll be able to see the full text of the card later.
                  </div>
              </div>
              <hr>
              <div class="row">
                  <div class="col-md-12">
                      <i class="glyphicon glyphicon-arrow-up"></i>,<i class="glyphicon glyphicon-arrow-down"></i>,<i class="glyphicon glyphicon-arrow-left"></i>,<i class="glyphicon glyphicon-arrow-right"></i>:
                      Move highlight box, in order to create new cards or draw arrows
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      ENTER:
                      Opens the card-editing box, or saves the current card if already open
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      SPACE:
                      Sets the origin box, or draws an arrow if an origin is already selected
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      e:
                      If a box with a <i class="glyphicon glyphicon-flag flag-instructions"></i> is highlighted, expands or hides the full card
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      n:
                      Launches <b>n</b>ew-topic dialog
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      s:
                      Toggles topic-<b>s</b>election menu
                  </div>
              </div>
              <hr>
              <div class="col-md-12">
                  Hit [Sync] to save the round to the web, or update the current saved round.
                  <br><br>
                  The card database comes from the <a href="http://chicagodebateleague.org/">Chicago Debate League</a>'s <a href="http://chicagodebateleague.org/cdl-core-files/">2013-14 core files</a>, shoutout to an awesome league! I'll update it with the 2014-15 season case list when it becomes available. The file's about 1MB, so it might take a minute to load.
                  <br><br>
                  Questions/comments/etc, <a href="mailto:abe@epton.org">email Abe</a>. Code's on <a href="https://github.com/aepton/flow">Github</a>.
              </div>
          </div>
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-success" data-dismiss="modal">Got it</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<script type="text/template" id="local-rounds-template">
  {{ rounds }}
</script>
</div>
</body>
</html>
